## BEGIN
-- in --
a == b == c
-- out --
BinaryOp(BinaryOp(Variable("a"), Equal, Variable("b")), Equal, Variable("c"))
## END

## BEGIN
-- in --
user.name == admin.name
-- out --
BinaryOp(PropertyAccess(Variable("user"), "name"), Equal, PropertyAccess(Variable("admin"), "name"))
## END

## BEGIN
-- in --
app.user.profile.settings.theme
-- out --
PropertyAccess(PropertyAccess(PropertyAccess(PropertyAccess(Variable("app"), "user"), "profile"), "settings"), "theme")
## END

## BEGIN
-- in --
''
-- out --
StringLiteral("")
## END

## BEGIN
-- in --
42
-- out --
NumberLiteral(Number(42))
## END

## BEGIN
-- in --
3.14
-- out --
NumberLiteral(Number(3.14))
## END

## BEGIN
-- in --
user.profile.name
-- out --
PropertyAccess(PropertyAccess(Variable("user"), "profile"), "name")
## END

## BEGIN
-- in --
(x == y)
-- out --
BinaryOp(Variable("x"), Equal, Variable("y"))
## END

## BEGIN
-- in --
user.name
-- out --
PropertyAccess(Variable("user"), "name")
## END

## BEGIN
-- in --
'guest' == user.role
-- out --
BinaryOp(StringLiteral("guest"), Equal, PropertyAccess(Variable("user"), "role"))
## END

## BEGIN
-- in --
x == y
-- out --
BinaryOp(Variable("x"), Equal, Variable("y"))
## END

## BEGIN
-- in --
'hello'
-- out --
StringLiteral("hello")
## END

## BEGIN
-- in --
x
-- out --
Variable("x")
## END

## BEGIN
-- in --
'apple' == 'orange'
-- out --
BinaryOp(StringLiteral("apple"), Equal, StringLiteral("orange"))
## END

## BEGIN
-- in --
user.name == 'admin'
-- out --
BinaryOp(PropertyAccess(Variable("user"), "name"), Equal, StringLiteral("admin"))
## END

## BEGIN
-- in --
user.name == 'admin'
-- out --
BinaryOp(PropertyAccess(Variable("user"), "name"), Equal, StringLiteral("admin"))
## END

## BEGIN
-- in --
'hello world'
-- out --
StringLiteral("hello world")
## END

## BEGIN
-- in --
  user . name   ==   admin . name  
-- out --
BinaryOp(PropertyAccess(Variable("user"), "name"), Equal, PropertyAccess(Variable("admin"), "name"))
## END

Parse error when expression has trailing tokens.

## BEGIN
-- in --
x y
-- out --
Error: Unexpected token at end of expression
## END

Parse error when dot is not followed by identifier.

## BEGIN
-- in --
user.
-- out --
Error: Expected identifier after '.'
## END

Parse error when dot is followed by a number.

## BEGIN
-- in --
user.123
-- out --
Error: Expected identifier after '.'
## END

Parse error when expression starts with an invalid token.

## BEGIN
-- in --
== x
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with unclosed parenthesis.

## BEGIN
-- in --
(x == y
-- out --
Error: Missing closing parenthesis
## END

Parse error with unmatched closing parenthesis.

## BEGIN
-- in --
x == y)
-- out --
Error: Unexpected token at end of expression
## END

Parse error when parenthesis is empty.

## BEGIN
-- in --
()
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with invalid character after equality operator.

## BEGIN
-- in --
x == )
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with dot at the start.

## BEGIN
-- in --
.property
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with multiple dots in sequence.

## BEGIN
-- in --
user..name
-- out --
Error: Expected identifier after '.'
## END

Parse error with operator at the end.

## BEGIN
-- in --
x ==
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with not operator without operand.

## BEGIN
-- in --
!
-- out --
Error: Expected identifier, string literal, number literal, array literal, or opening parenthesis
## END

Parse error with trailing not operator.

## BEGIN
-- in --
x !
-- out --
Error: Unexpected token at end of expression
## END

Test empty array literal

## BEGIN
-- in --
[]
-- out --
ArrayLiteral([])
## END

Test array literal with numbers

## BEGIN
-- in --
[1, 2, 3]
-- out --
ArrayLiteral([NumberLiteral(Number(1)), NumberLiteral(Number(2)), NumberLiteral(Number(3))])
## END

Test array literal with mixed types

## BEGIN
-- in --
[1, 'hello', true]
-- out --
ArrayLiteral([NumberLiteral(Number(1)), StringLiteral("hello"), BooleanLiteral(true)])
## END

Test nested array literals

## BEGIN
-- in --
[[1, 2], [3, 4]]
-- out --
ArrayLiteral([ArrayLiteral([NumberLiteral(Number(1)), NumberLiteral(Number(2))]), ArrayLiteral([NumberLiteral(Number(3)), NumberLiteral(Number(4))])])
## END

Test array literal with variables

## BEGIN
-- in --
[x, user.name]
-- out --
ArrayLiteral([Variable("x"), PropertyAccess(Variable("user"), "name")])
## END
