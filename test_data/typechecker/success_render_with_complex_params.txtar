-- main.hop --
<process-item params-as="item">
	<cond if="item.status.active">
	</cond>
	<for each="item.children" as="child">
		<cond if="child.visible">
		</cond>
	</for>
</process-item>

<main-comp params-as="params">
	<for each="params.items" as="item">
		<process-item params="item"/>
	</for>
</main-comp>
-- out --
main::process-item : {children: {visible: boolean}[], status: {active: boolean}}
main::main-comp : {items: {children: {visible: boolean}[], status: {active: boolean}}[]}
